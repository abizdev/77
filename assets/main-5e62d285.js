import{s as L,a as f,c as h,g as v,b as y}from"./db-9147c007.js";import"./products-953abc44.js";const S="https://77-dev.uicgroup.tech/api/v1";document.querySelector("body");const w=document.querySelector(".login-btn"),b=document.querySelector(".log-user");document.querySelector(".modal");const n=document.querySelector(".modal-wrapper"),q=document.querySelector(".modal-close"),d=document.querySelector(".input-login input"),p=document.querySelector(".input-password input");function g(){n.classList.contains("hidden")?n.classList.remove("hidden"):n.classList.add("hidden")}w.addEventListener("click",e=>{g()});q.addEventListener("click",e=>{g()});b.addEventListener("click",()=>{if(d.value.length>=2&&p.value.length>=8){const e={phone_number:d.value,password:p.value};fetch(`${S}/accounts/login/`,{method:"POST",headers:{"Content-Type":"application/json",Authentication:`Barer ${localStorage.refresh_token}`},body:JSON.stringify(e)}).then(o=>o.json()).then(o=>{if(!o.access_token&&!o.refresh_token)return new Error("error");localStorage.setItem("access",JSON.stringify(o.access_token)),localStorage.setItem("refresh",JSON.stringify(o.refresh_token))}).catch(o=>{console.log("wooops error with data",o)})}else alert("Данные не введены или мало данных")});const i=document.querySelector("body"),r=document.querySelector(".form-bg"),a=document.querySelector(".search-wrapper"),l=document.querySelector(".search-form"),E=document.querySelector(".search-form input"),c=document.querySelector(".sear-form__popup"),k=document.querySelector(".categories__content"),t=document.querySelector(".dropdown");a.addEventListener("click",e=>{e.stopPropagation(),E.focus(),console.log("wrapper cliked"),L.forEach((o,s)=>{c.innerHTML+=f(o)}),l.classList.add("border-blue-500"),a.classList.replace("z-0","z-[60]"),c.classList.replace("hidden","flex"),r.classList.replace("opacity-0","opacity-100"),r.classList.replace("invisible","visible"),i.style.cssText="overflow: hidden;"});i.addEventListener("click",e=>{e.stopImmediatePropagation(),l.classList.add("remove"),l.classList.remove("border-blue-500"),c.classList.replace("flex","hidden"),a.classList.replace("z-[60]","z-0"),r.classList.replace("opacity-100","opacity-0"),r.classList.replace("visible","invisible"),c.innerHTML="",i.removeAttribute("style")});const _=(e,o="hidden")=>{e.classList.remove("hidden"),o&&e.classList.add(o)},u=(e,o="hidden")=>{o&&e.classList.remove(...o),e.classList.add("hidden")};h.forEach((e,o)=>{k.insertAdjacentHTML("beforeend",v(e))});const T=(e,o)=>{const s=Math.floor(o/3)+2;t.style.gridRow=s,_(t,"dropdown-grid"),y(t,e==null?void 0:e.subcategory)},m=document.querySelectorAll(".categories__item");m.forEach((e,o)=>{e.addEventListener("click",()=>{e.classList.contains("active")?(e.classList.remove("active"),t.innerHTML="",u(t,["dropdown-grid","dropdown-flex"])):(m.forEach(s=>{s.classList.remove("active"),t.innerHTML="",u(t,["dropdown-grid","dropdown-flex"])}),e.classList.toggle("active"),T(h[o],o))})});
